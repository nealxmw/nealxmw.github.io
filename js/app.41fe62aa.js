(function(){"use strict";var e={7779:function(e,t,r){var a=r(2027),s=r.n(a),n=r(2856),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],l=r(1656),c={},u=(0,l.A)(c,o,i,!1,null,null,null),d=u.exports,h=r(1594),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("BackgroundImage",{attrs:{bgImageUrl:e.bgImageUrl}}),t("div",{staticClass:"search-wrapper"},[t("SearchBar")],1),t("div",{ref:"tabsWrapper",staticClass:"category-tabs-wrapper"},[t("div",{staticClass:"category-tabs"},[e._l(e.categories,function(r,a){return t("div",{key:r.value,staticClass:"tab-item",class:{active:e.activeCategory===r.value},on:{click:function(t){return e.switchCategory(r.value,a)},mouseover:function(t){return e.hoverSlider(a)},mouseleave:e.resetSlider}},[e._v(" "+e._s(r.label)+" ")])}),t("div",{staticClass:"tab-slider",style:e.sliderStyle})],2)]),e.marks[e.activeCategory]?t("div",{key:e.activeCategory,staticClass:"marks-container"},[t("div",{staticClass:"group-flex"},e._l(e.marks[e.activeCategory],function(r,a){return t("el-card",{key:a,staticClass:"box-card",attrs:{shadow:"hover"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(r.category))]),t("div",{staticClass:"links-container"},e._l(r.links,function(r,a){return t("a",{key:a,staticClass:"link-item",attrs:{href:r.url,target:"_blank"}},[t("span",[e._v(e._s(r.name))])])}),0)])}),1)]):e._e()],1)},g=[],p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-page"},[t("el-input",{staticClass:"search-input",class:{focused:e.focused},attrs:{placeholder:"输入搜索内容",clearable:""},on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1},input:e.onKeywordChange,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.highlightNext.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.highlightPrev.apply(null,arguments))}]},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[t("template",{slot:"prepend"},[t("el-select",{staticClass:"platform-select",attrs:{size:"small",placeholder:"选择平台","popper-class":"custom-select-dropdown"},on:{focus:function(t){t.stopPropagation(),e.focused=!0},blur:function(t){t.stopPropagation(),e.focused=!1}},model:{value:e.selectedPlatform,callback:function(t){e.selectedPlatform=t},expression:"selectedPlatform"}},e._l(e.platforms,function(r,a){return t("el-option",{key:r.value,class:{highlighted:a===e.highlightedIndex},attrs:{label:r.label,value:r.value}})}),1)],1),t("template",{slot:"append"},[t("el-button",{staticClass:"search-button",attrs:{size:"small",type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],2)],1)},m=[],v={data(){return{keyword:"",platforms:[],selectedPlatform:"",focused:!1,highlightedIndex:-1}},created(){fetch("/search.json").then(e=>e.json()).then(e=>{this.platforms=e,e.length&&(this.selectedPlatform=e[0].value)}).catch(e=>console.error(e))},methods:{onSearch(){if(!this.keyword||!this.selectedPlatform)return;const e=this.selectedPlatform+encodeURIComponent(this.keyword);window.open(e,"_blank","noopener,noreferrer")},onKeywordChange(){if(!this.keyword)return void(this.highlightedIndex=-1);const e=this.keyword.toLowerCase(),t=this.platforms.findIndex(t=>t.label.toLowerCase().includes(e));-1!==t&&(this.selectedPlatform=this.platforms[t].value,this.highlightedIndex=t)},highlightNext(){this.platforms.length&&(this.highlightedIndex=(this.highlightedIndex+1)%this.platforms.length,this.selectedPlatform=this.platforms[this.highlightedIndex].value)},highlightPrev(){this.platforms.length&&(this.highlightedIndex=(this.highlightedIndex-1+this.platforms.length)%this.platforms.length,this.selectedPlatform=this.platforms[this.highlightedIndex].value)}}},y=v,k=(0,l.A)(y,p,m,!1,null,"27f4a468",null),b=k.exports,w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"background-image",style:{backgroundImage:`url(${e.bgImageUrl})`}})},C=[],x={name:"BackgroundImage",props:{bgImageUrl:{type:String,default:"/images/bg.jpg"}}},_=x,I=(0,l.A)(_,w,C,!1,null,"21f2d056",null),S=I.exports,j={name:"Home",components:{SearchBar:b,BackgroundImage:S},data(){return{categories:[],activeCategory:"",activeIndex:0,marks:{},sliderStyle:{width:"0px",left:"0px"},bgImageUrl:"/images/bg.jpg"}},created(){fetch("/categories.json").then(e=>e.json()).then(e=>{this.categories=e,e.length>0&&(this.activeCategory=e[0].value,this.activeIndex=0,this.loadMarks(this.activeCategory),this.$nextTick(()=>this.moveSlider(this.activeIndex)))})},methods:{switchCategory(e,t){this.activeCategory=e,this.activeIndex=t,this.loadMarks(e),this.$nextTick(()=>this.moveSlider(t))},loadMarks(e){this.marks[e]||fetch(`/marks/${e}.json`).then(e=>e.json()).then(t=>{this.$set(this.marks,e,t)})},moveSlider(e){const t=this.$refs.tabsWrapper;if(!t)return;const r=t.querySelectorAll(".tab-item");if(!r[e])return;const a=r[e];this.sliderStyle={width:a.offsetWidth+"px",left:a.offsetLeft+"px"}},hoverSlider(e){this.moveSlider(e)},resetSlider(){this.moveSlider(this.activeIndex)}}},P=j,O=(0,l.A)(P,f,g,!1,null,"0528ef4d",null),U=O.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("BackgroundImage",{attrs:{bgImageUrl:e.bgImageUrl}}),t("div",{staticClass:"top"},[t("div",{staticClass:"date-time"},[e._v(e._s(e.currentDate)+" 星期"+e._s(e.currentWeekday))]),t("div",{staticClass:"current-time"},[e._v(e._s(e.currentTime))])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"tip"},[e._v("稍等一下，马上回来")]),t("div",{staticClass:"footer"},[t("img",{staticClass:"avatar",attrs:{src:e.avatarUrl,alt:"User Avatar"}})]),t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",placeholder:"输入密码以解锁",required:""},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})])])],1)},T=[],D=(r(4114),{name:"Login",components:{BackgroundImage:S},data(){return{password:"1998",currentTime:"",currentDate:"",currentWeekday:"",avatarUrl:"/images/user.jpg",bgImageUrl:"/images/bg.jpg"}},methods:{handleLogin(){"1998"===this.password?(localStorage.setItem("loggedIn","true"),this.$router.push({name:"Home"})):alert("密码错误")},updateTime(){setInterval(()=>{const e=new Date;this.currentTime=e.toLocaleTimeString(),this.currentDate=`${e.getMonth()+1}月${e.getDate()}日`,this.currentWeekday=["日","一","二","三","四","五","六"][e.getDay()]},1e3)}},created(){this.updateTime()}}),$=D,L=(0,l.A)($,A,T,!1,null,"357f4936",null),B=L.exports;n["default"].use(h.Ay);const M=[{path:"/",name:"Home",component:U,meta:{title:"个人收藏"},beforeEnter:(e,t,r)=>{const a=localStorage.getItem("loggedIn");a?r():r({name:"Login"})}},{path:"/login",name:"Login",component:B,meta:{title:"登录"},beforeEnter:(e,t,r)=>{const a=localStorage.getItem("loggedIn");a?r({name:"Home"}):r()}}],E=new h.Ay({mode:"hash",base:"/",routes:M});E.beforeEach((e,t,r)=>{document.title=e.meta.title||"",r()});var W=E,H=r(1910);n["default"].use(H.Ay);var N=new H.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});n["default"].use(s()),n["default"].config.productionTip=!1,new n["default"]({router:W,store:N,render:e=>e(d)}).$mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,n){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||o>=n)&&Object.keys(r.O).every(function(e){return r.O[e](a[l])})?a.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,s,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,o=a[0],i=a[1],l=a[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)var u=l(r)}for(t&&t(a);c<o.length;c++)n=o[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},a=self["webpackChunkjson_editor_demo"]=self["webpackChunkjson_editor_demo"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],function(){return r(7779)});a=r.O(a)})();
//# sourceMappingURL=app.41fe62aa.js.map